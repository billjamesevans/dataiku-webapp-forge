<div class="pm-app">
  <header class="hero">
    <div class="title-block">
      <p class="eyebrow">Reliability Engineering</p>
      <h1>Predictive Maintenance Planner</h1>
      <p class="subtitle">Prioritize interventions before failures, align labor capacity, and secure critical spares.</p>
    </div>
    <div class="toolbar">
      <label for="daysInput">Sensor Window</label>
      <select id="daysInput">
        <option value="7">Last 7 days</option>
        <option value="14" selected>Last 14 days</option>
        <option value="30">Last 30 days</option>
      </select>
      <button id="reloadBtn" type="button">Reload</button>
      <span id="statusStamp" class="stamp">Loading...</span>
    </div>
  </header>

  <section class="kpis" id="kpiCards"></section>

  <section class="grid two-up">
    <article class="panel">
      <div class="panel-head">
        <h2>Machine Risk Heatboard</h2>
        <span class="chip">Live from sensor scores</span>
      </div>
      <div id="riskBoard" class="risk-board"></div>
    </article>

    <article class="panel">
      <div class="panel-head">
        <h2>Selected Machine Trend</h2>
        <div class="inline-controls">
          <label for="machineSelect">Machine</label>
          <select id="machineSelect"></select>
        </div>
      </div>
      <div id="machineTrend" class="trend"></div>
    </article>
  </section>

  <section class="grid two-up">
    <article class="panel">
      <div class="panel-head">
        <h2>Recommended Maintenance Queue</h2>
        <span id="queueBadge" class="chip warn">0 items</span>
      </div>
      <div id="scheduleBoard" class="schedule-board"></div>
    </article>

    <article class="panel">
      <div class="panel-head">
        <h2>Critical Spare Parts Exposure</h2>
        <span class="chip">Reorder risk</span>
      </div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Part</th>
              <th>Family</th>
              <th>On Hand</th>
              <th>ROP</th>
              <th>Lead Days</th>
              <th>Coverage</th>
              <th>Risk</th>
            </tr>
          </thead>
          <tbody id="partsBody"></tbody>
        </table>
      </div>
    </article>
  </section>

  <section class="panel">
    <div class="panel-head">
      <h2>Open Work Orders</h2>
      <span class="chip">Unified operations + maintenance view</span>
    </div>
    <div class="table-wrap">
      <table>
        <thead>
          <tr>
            <th>WO</th>
            <th>Machine</th>
            <th>Priority</th>
            <th>Status</th>
            <th>Due Date</th>
            <th>Est. Hours</th>
            <th>Failure Mode</th>
            <th>Team</th>
          </tr>
        </thead>
        <tbody id="workOrdersBody"></tbody>
      </table>
    </div>
  </section>
</div>

<div id="toast" class="toast" role="status" aria-live="polite"></div>
